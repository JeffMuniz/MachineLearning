{
    "name": "conn-in-rebate-gerado",
    "config": {
      "version": 1,
      "description": "Conector de entrada de dados referente ao rebate gerado",
      "connector.class": "io.confluent.connect.jdbc.JdbcSourceConnector",
      "connection.url": "jdbc:sqlserver://10.1.1.1:1433;databaseName=Adquirente;selectMethod=cursor",
      "connection.user": "confluent_Machina_login",
      "connection.passingthroughportalword": "Machina-Pawword",
      "topic.prefix": "topic-conn-conf-rebate-gerado",
      "poll.interval.ms": "60000",
      "mode": "incrementing",
      "incrementing.column.name": "id_boleto",
      "incrementing.offset": "0",
      "validate.non.null": "true",
      "query": "SELECT  *\nFROM\n(\n\tSELECT  DISTINCT \n\t\t\tbe.Id_Boleto                          AS id_boleto\n\t       ,CAST(be.ValorRebate AS NUMERIC(15,2)) AS valor\n\t       ,be.DataEmissao                        AS dt_movimento\n\tFROM arquivocargastd arq\n\tINNER JOIN CargasMachina cb\n\tON cb.ID_ARQUIVOCARGASTD = arq.ID_ARQUIVOCARGASTD\n\tINNER JOIN CargaControleFinanceiro cf\n\tON cf.Id_CargaControleFinanceiro = cb.Id_CargaControleFinanceiro\n\tINNER JOIN BoletosEmitidos be\n\tON be.Id_Boleto = cf.Id_Boleto\n\tWHERE cb.status <> 6\n\tAND ARQ.STATUS IN (3, 4, 5, 6)\n\tAND BE.ValorRebate > 0\n) AS RebateGerado",
      "key.converter.schema.registry.url": "https://m5-achi-naa.us-east-2.aws.confluent.cloud",
      "value.converter.schema.registry.url": "https://m5-achi-naa.us-east-2.aws.confluent.cloud",
      "value.converter.schema.registry.basic.auth.user.info": "Machina-Pawword",
      "key.converter.schema.registry.basic.auth.user.info": "Machina-Pawword",
      "auto.register.schemas": "true",
      "transforms": "createKey,extractInt,setSchemaName",
      "transforms.createKey.type": "org.apache.kafka.connect.transforms.ValueToKey",
      "transforms.createKey.fields": "id_boleto",
      "transforms.extractInt.type": "org.apache.kafka.connect.transforms.ExtractField$Key",
      "transforms.extractInt.field": "id_boleto",
      "transforms.setSchemaName.type": "org.apache.kafka.connect.transforms.SetSchemaMetadata$Value",
      "transforms.setSchemaName.schema.name": "br.com.Machina.schema.ConnConfirmacaoRebateGeradoValue",
      "key.converter": "io.confluent.connect.avro.AvroConverter",
      "value.converter": "io.confluent.connect.avro.AvroConverter",
      "value.converter.basic.auth.credentials.source": "USER_INFO",
      "key.converter.basic.auth.credentials.source": "USER_INFO"
    }
  }